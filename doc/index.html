<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>tiny-ecs API</title>
    <link rel="stylesheet" href="ldoc_fixed.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>tiny-ecs</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Filter_functions">Filter functions </a></li>
<li><a href="#System_functions">System functions </a></li>
<li><a href="#World_functions">World functions </a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>tiny-ecs</strong></li>
</ul>

</div>

<div id="content">

<h1>Module <code>tiny-ecs</code></h1>
<p>
</p>
<p>
</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>Copyright</strong>: 2015</li>
        <li><strong>License</strong>: MIT</li>
        <li><strong>Author</strong>: Calvin Rose</li>
    </ul>


<h2><a href="#Filter_functions">Filter functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#tiny.requireAll">tiny.requireAll (...)</a></td>
	<td class="summary">Makes a Filter that selects Entities with all specified Components and
 Filters.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.requireOne">tiny.requireOne (...)</a></td>
	<td class="summary">Makes a Filter that selects Entities with at least one of the specified
 Components and Filters.</td>
	</tr>
</table>
<h2><a href="#System_functions">System functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#tiny.system">tiny.system (table)</a></td>
	<td class="summary">Creates a System.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.processingSystem">tiny.processingSystem (table)</a></td>
	<td class="summary">Creates a Processing System.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.sortedSystem">tiny.sortedSystem (table)</a></td>
	<td class="summary">Creates a Sorted Processing System.</td>
	</tr>
</table>
<h2><a href="#World_functions">World functions </a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#tiny.world">tiny.world (...)</a></td>
	<td class="summary">Creates a new World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.addEntity">tiny.addEntity (world, entity)</a></td>
	<td class="summary">Adds an Entity to the world.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.addSystem">tiny.addSystem (world, system)</a></td>
	<td class="summary">Adds a System to the world.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.add">tiny.add (world, ...)</a></td>
	<td class="summary">Shortcut for adding multiple Entities and Systems to the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.removeEntity">tiny.removeEntity (world, entity)</a></td>
	<td class="summary">Removes an Entity to the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.removeSystem">tiny.removeSystem (world, system)</a></td>
	<td class="summary">Removes a System from the world.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.remove">tiny.remove (world, ...)</a></td>
	<td class="summary">Shortcut for removing multiple Entities and Systems from the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.update">tiny.update (world, dt)</a></td>
	<td class="summary">Updates the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.clearEntities">tiny.clearEntities (world)</a></td>
	<td class="summary">Removes all Entities from the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.clearSystems">tiny.clearSystems (world)</a></td>
	<td class="summary">Removes all Systems from the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.getEntityCount">tiny.getEntityCount (world)</a></td>
	<td class="summary">Gets count of Entities in World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.getSystemCount">tiny.getSystemCount (world)</a></td>
	<td class="summary">Gets count of Systems in World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.getSystemIndex">tiny.getSystemIndex (world, system)</a></td>
	<td class="summary">Gets the index of a System in the World.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#tiny.setSystemIndex">tiny.setSystemIndex (world, system, index)</a></td>
	<td class="summary">Sets the index of a System in the World.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Filter_functions"></a>Filter functions </h2>

        <p> A Filter is a function that selects which Entities apply to a System.
 Filters take two parameters, the System and the Entity, and return a boolean
 value indicating if the Entity should be processed by the System.</p>

<p> Filters must be added to Systems by setting the <code>filter</code> field of the System.
 Filter&rsquo;s returned by <a href="index.html#tiny.requireAll">tiny.requireAll</a> and <a href="index.html#tiny.requireOne">tiny.requireOne</a> are immutable
 and can be used by multiple Systems.</p>

<pre><code>local f1 = tiny.requireAll("position", "velocity", "size")
local f2 = tiny.requireOne("position", "velocity", "size")

local e1 = {
    position = {2, 3},
    velocity = {3, 3},
    size = {4, 4}
}

local entity2 = {
    position = {4, 5},
    size = {4, 4}
}

local e3 = {
    position = {2, 3},
    velocity = {3, 3}
}

print(f1(nil, e1), f1(nil, e2), f1(nil, e3)) -- prints true, false, false
print(f2(nil, e1), f2(nil, e2), f2(nil, e3)) -- prints true, true, true
</code></pre>

    <dl class="function">
    <dt>
    <a name = "tiny.requireAll"></a>
    <strong>tiny.requireAll (...)</strong>
    </dt>
    <dd>
    Makes a Filter that selects Entities with all specified Components and
 Filters.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         List of required Components and other Filters.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.requireOne"></a>
    <strong>tiny.requireOne (...)</strong>
    </dt>
    <dd>
    Makes a Filter that selects Entities with at least one of the specified
 Components and Filters.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         List of required Components and other Filters.
        </li>
    </ul>





</dd>
</dl>
    <h2><a name="System_functions"></a>System functions </h2>

         A System is a wrapper around function callbacks for manipulating Entities.
    <dl class="function">
    <dt>
    <a name = "tiny.system"></a>
    <strong>tiny.system (table)</strong>
    </dt>
    <dd>
    <p>Creates a System.  Systems are tables that contain at least one method;
 an update function that takes parameters like so:</p>

<ul>
<li> <code>function system:update(dt)</code>.</li>
</ul>


<p> There are also a few other optional callbacks:</p>

<ul>
<li> <code>function system:filter(entity)</code></li>
<li> <code>function system:onAdd(entity)</code></li>
<li> <code>function system:onRemove(entity)</code></li>
<li> <code>function system:onModify(dt)</code></li>
</ul>


<p> For Filters, it is conveient to use <a href="index.html#tiny.requireAll">tiny.requireAll</a> or <a href="index.html#tiny.requireOne">tiny.requireOne</a>,
 but one can write their own filters as well. Set the Filter of your System
 like so:</p>

<pre><code>system.filter = tiny.requireAll("a", "b", "c")
</code></pre>

<p> or</p>

<pre><code>function system:filter(entity)
    return entity.myRequiredComponentName ~= nil
end
</code></pre>



    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">table</span>
         A table to be used as a System, or <code>nil</code> to create a new System.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.processingSystem"></a>
    <strong>tiny.processingSystem (table)</strong>
    </dt>
    <dd>
    Creates a Processing System. </p>

<p> A Processing System iterates through its Entities in no particluar order, and
 updates them individually. It has two important fields:</p>

<ul>
<li> <code>function system:process(entity, dt)</code></li>
<li> <code>function system:filter(entity)</code></li>
</ul>


<p> There are also a few other optional callbacks, including the optional
 callbacks in <a href="index.html#tiny.system">tiny.system</a>:</p>

<ul>
<li> <code>function system:preProcess(entities, dt)</code></li>
<li> <code>function system:postProcess(entities, dt)</code></li>
</ul>


<p> Processing System.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">table</span>
         A table to be used as a System, or <code>nil</code> to create a new
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <a href="index.html#tiny.system">system</a>
    </ul>


</dd>
    <dt>
    <a name = "tiny.sortedSystem"></a>
    <strong>tiny.sortedSystem (table)</strong>
    </dt>
    <dd>
    Creates a Sorted Processing System.  A Sorted System iterates through its
 Entities in a specific order, and updates them individually. It has three
 important methods:</p>

<ul>
<li> <code>function system:process(entity, dt)</code></li>
<li> <code>function system:compare(entity1, entity2)</code></li>
<li> <code>function system:filter(entity)</code></li>
</ul>


<p> Sorted Systems have the same optitonal callbacks as ProcessingSystems.
 Sorted System.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">table</span>
         A table to be used as a System, or <code>nil</code> to create a new
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#tiny.system">system</a></li>
         <li><a href="index.html#tiny.processingSystem">processingSystem</a></li>
    </ul>


</dd>
</dl>
    <h2><a name="World_functions"></a>World functions </h2>

         A World is a container that manages Entities and Systems. Typically, a
 program uses one World at a time.</p>

<p> The tiny-ecs module is set to be the <code>__index</code> of all World tables, so the
 often clearer syntax of <code>world:method()</code> can be used for any function in the
 library. For example, <code>tiny.add(world, e1, e2, e3)</code> is the same as
 <code>world:add(e1, e2, e3).</code>
    <dl class="function">
    <dt>
    <a name = "tiny.world"></a>
    <strong>tiny.world (...)</strong>
    </dt>
    <dd>
    Creates a new World.
 Can optionally add default Systems and Entities.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>
         Systems and Entities to add to the World
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        A new World
    </ol>




</dd>
    <dt>
    <a name = "tiny.addEntity"></a>
    <strong>tiny.addEntity (world, entity)</strong>
    </dt>
    <dd>
    Adds an Entity to the world.
 Also call this on Entities that have changed Components such that they
 match different Filters.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">entity</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.addSystem"></a>
    <strong>tiny.addSystem (world, system)</strong>
    </dt>
    <dd>
    Adds a System to the world.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">system</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.add"></a>
    <strong>tiny.add (world, ...)</strong>
    </dt>
    <dd>
    Shortcut for adding multiple Entities and Systems to the World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">...</span>
         Systems and Entities
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#tiny.addEntity">addEntity</a></li>
         <li><a href="index.html#tiny.addSystem">addSystem</a></li>
    </ul>


</dd>
    <dt>
    <a name = "tiny.removeEntity"></a>
    <strong>tiny.removeEntity (world, entity)</strong>
    </dt>
    <dd>
    Removes an Entity to the World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">entity</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.removeSystem"></a>
    <strong>tiny.removeSystem (world, system)</strong>
    </dt>
    <dd>
    Removes a System from the world.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">system</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.remove"></a>
    <strong>tiny.remove (world, ...)</strong>
    </dt>
    <dd>
    Shortcut for removing multiple Entities and Systems from the World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">...</span>
         Systems and Entities
        </li>
    </ul>



    <h3>See also:</h3>
    <ul>
         <li><a href="index.html#tiny.removeEntity">removeEntity</a></li>
         <li><a href="index.html#tiny.removeSystem">removeSystem</a></li>
    </ul>


</dd>
    <dt>
    <a name = "tiny.update"></a>
    <strong>tiny.update (world, dt)</strong>
    </dt>
    <dd>
    Updates the World.
 Put this in your main loop.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">dt</span>
         Delta time
        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.clearEntities"></a>
    <strong>tiny.clearEntities (world)</strong>
    </dt>
    <dd>
    Removes all Entities from the World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.clearSystems"></a>
    <strong>tiny.clearSystems (world)</strong>
    </dt>
    <dd>
    Removes all Systems from the World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.getEntityCount"></a>
    <strong>tiny.getEntityCount (world)</strong>
    </dt>
    <dd>
    Gets count of Entities in World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.getSystemCount"></a>
    <strong>tiny.getSystemCount (world)</strong>
    </dt>
    <dd>
    Gets count of Systems in World.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.getSystemIndex"></a>
    <strong>tiny.getSystemIndex (world, system)</strong>
    </dt>
    <dd>
    Gets the index of a System in the World.  Lower indexed Systems are processed
 before higher indexed systems.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">system</span>


        </li>
    </ul>





</dd>
    <dt>
    <a name = "tiny.setSystemIndex"></a>
    <strong>tiny.setSystemIndex (world, system, index)</strong>
    </dt>
    <dd>
    Sets the index of a System in the World.  Changes the order in
 which they Systems processed, because lower indexed Systems are processed
 first.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">world</span>


        </li>
        <li><span class="parameter">system</span>


        </li>
        <li><span class="parameter">index</span>


        </li>
    </ul>





</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.3</a></i>
<i style="float:right;">Last updated 2015-05-04 20:16:58 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
